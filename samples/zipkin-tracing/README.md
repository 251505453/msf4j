# MSF4J Zipkin Distributed Service Tracing Sample

This is the MSF4J sample that demonstrates distributed service tracing using Zipkin.

## How to build the sample

From this directory, run

```
mvn clean install
```

## How to run the sample

Download [Zipkin](http://zipkin.io/pages/quickstart.html#Java) and run it with default configurations.
Zipkin will start in port 9411 by default. You can see the Zipkin dashboard at [http://localhost:9411](http://localhost:9411).

After that, from the target directory, run
```
java -jar msf4j-zipkin-tracing-*.jar
```

## How to test the sample

We will use the cURL command line tool for testing. You can use your preferred HTTP or REST client too.

```
curl http://localhost:8080/service/aaaa
```

You should get a response similar to the following:

```
aaaa-res:bbbb-res:dddd:eeee:cccc-res:ffff-res:gggg
```

The above response was generated by 'service/aaaa' by calling several other microservice endpoints in different service call depths.
So after receiving the above response, you can go to the Zipkin dashboard and find traces for the selected service names.


![Zipkin Dashboard](resources/zipkintraces.png)

